openapi: 3.0.1
info:
  title: Manta HTTP API
  version: 1.0.0

servers:
  - url: /api/v1

tags:
  - name: Setup
  - name: Organizations
  - name: Otcls
    description: OpenTelemetry Collector

paths:
  /setup:
    post:
      operationId: Setup
      tags:
        - Setup
      summary: Setup the service
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
      requestBody:
        description: User and Organization to create
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/OnBoardingRequest"
      responses:
        201:
          description: Initial success
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /orgs:
    get:
      operationId: GetOrgs
      tags:
        - Organizations
      summary: List all organizations
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
      responses:
        200:
          description: A list of organizations
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Organizations"
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      operationId: CreateOrg
      tags:
        - Organizations
      summary: Create an Organization
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
      requestBody:
        description: Organization to create
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Organization"
      responses:
        201:
          description: Organization created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Organization"
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Organization"
  /orgs/{id}:
    get:
      operationId: GetOrgByID
      tags:
        - Organizations
      summary: Retrieve an organization
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
        - in: path
          name: id
          required: true
          description: The ID of the organization to get
          schema:
            type: string
      responses:
        200:
          description: Organization details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Organization"
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    delete:
      operationId: DeleteOrganization
      tags:
        - Organizations
      summary: Delete Organizaion by ID
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
        - in: path
          name: id
          required: true
          description: The ID of the organization to get
          schema:
            type: string
      responses:
        204:
          description: Organization deleted
        default:
          $ref: "#/components/responses/UnexpectedError"

  /dashboards:
    get:
      operationId: ListDashboards
      tags:
        - Dashboards
      summary: List all dashboards
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
        - in: query
          name: orgID
          description: Filter the list by orgID
          schema:
            type: string
      responses:
        200:
          description: Dashboard List
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Dashboard'
        default:
          $ref: '#/components/responses/UnexpectedError'

  /dashboards/{id}:
    parameters:
      - $ref: '#/components/parameters/TraceSpan'
      - in: path
        name: id
        schema:
          type: string
        required: true
        description: Dashboard ID

    get:
      operationId: GetDashboardByID
      tags:
        - Dashboards
      summary: Get dashboard by id
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Dashboard'
        default:
          $ref: '#/components/responses/UnexpectedError'
    patch:
      operationId: PatchDashboard
      tags:
        - Dashboards
      summary: Patch a dashboard with changeset
      requestBody:
        description: The changeset
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DashboardPatch'
      responses:
        200:
          description: Success
        default:
          $ref: '#/components/responses/UnexpectedError'
    delete:
      operationId: DeleteDashboardByID
      tags:
        - Dashboards
      summary: Delete Dashboard by ID
      responses:
        204:
          description: Success
        default:
          $ref: '#/components/responses/UnexpectedError'

  /scrapes:
    get:
      operationId: ListScrapes
      tags:
        - Scrapes
      summary: List all Scrapes
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
        - in: query
          name: orgID
          description: Filter the list by orgID
          schema:
            type: string
      responses:
        200:
          description: Scrape List
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Scrape"
        default:
          $ref: "#/components/responses/UnexpectedError"
    post:
      operationId: CreateScrape
      tags:
        - Scrapes
      summary: Create Scrape
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Scrape"
      responses:
        204:
          description: Create Success
        default:
          $ref: "#/components/responses/UnexpectedError"
  /scrapes/{id}:
    get:
      operationId: GetScraper
      tags:
        - Scrapes
      summary: Get Scraper by ID
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
        - in: path
          name: id
          description: Scrape's ID
          required: true
          schema:
            type: string
      responses:
        200:
          description: success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Scrape'
        default:
          $ref: "#/components/responses/UnexpectedError"
    patch:
      operationId: PatchScraper
      tags:
        - Scrapes
      summary: Patch a scrape with changeset
      parameters:
        - $ref: '#/components/parameters/TraceSpan'
        - in: path
          name: id
          description: Scrape's ID
          required: true
          schema:
            type: string
      requestBody:
        description: Changeset of the scrape
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ScrapePatch'
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Scrape'
        default:
          $ref: '#/components/responses/UnexpectedError'

  /checks:
    get:
      operationId: ListChecks
      tags:
        - Checks
      summary: List all Checks
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
        - in: query
          name: orgID
          description: List checks with this orgID
          required: false
          schema:
            type: string
      responses:
        200:
          description: Check List
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Checks"
        default:
          $ref: "#/components/responses/UnexpectedError"
    put:
      operationId: CreateChecks
      tags:
        - Checks
      summary: Create a new Check
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
      requestBody:
        description: Check to create
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Check"
      responses:
        201:
          description: Create Check success
        default:
          $ref: "#/components/responses/UnexpectedError"
  /checks/{id}:
    get:
      operationId: GetCheck
      tags:
        - Checks
      summary: Find Check by id
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
        - in: path
          name: id
          schema:
            type: string
          required: true
          description: The ID of the Otcl to get
      responses:
        200:
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Check"
        default:
          $ref: "#/components/responses/UnexpectedError"

    put:
      operationId: UpdateCheck
      tags:
        - Checks
      summary: Update checks
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
        - in: path
          name: id
          schema:
            type: string
          required: true
          description: The check ID
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Check"
      responses:
        200:
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Check"
        default:
          $ref: "#/components/responses/UnexpectedError"

    patch:
      operationId: PatchCheck
      tags:
        - Checks
      summary: Update a check
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
        - in: path
          name: id
          schema:
            type: string
          required: true
          description: The check ID
      requestBody:
        description: Check update to apply
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CheckUpdate"
      responses:
        200:
          description: Update successfuly
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Check"
        default:
          $ref: "#/components/responses/UnexpectedError"

    delete:
      operationId: DeleteCheck
      tags:
        - Checks
      summary: Delete Check by id
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
        - in: path
          name: id
          required: true
          schema:
            type: string

      responses:
        204:
          description: Delete check by id success
        default:
          $ref: "#/components/responses/UnexpectedError"

  /otcls:
    get:
      operationId: GetOtcls
      tags:
        - Otcls
      summary: List all OpenTelemetry Collector
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
      responses:
        200:
          description: A list of Otcl
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Otcl"
        default:
          $ref: "#/components/responses/UnexpectedError"

    post:
      operationId: CreateOtcl
      tags:
        - Otcls
      summary: Create an Otcl
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
      requestBody:
        description: Otcl to create
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/OtclRequest"
      responses:
        201:
          description: Otcl created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Otcl"
        default:
          $ref: "#/components/responses/UnexpectedError"
  /otcls/{id}:
    get:
      operationId: GetOtcl
      tags:
        - Otcls
      summary: Get Otcl by ID
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
        - in: path
          name: id
          schema:
            type: string
          required: true
          description: The ID of the Otcl to get
        - in: header
          name: Accept
          required: true
          schema:
            type: string
            default: application/yaml
            enum:
              - application/json
              - application/octet-stream
              - text/yaml
      responses:
        200:
          description: Otcl details
          content:
            text/yaml:
              schema:
                type: string
              example: |-
                receivers: []
                exporters: []
                services: []
            application/octet-stream:
              schema:
                type: string
              example: |-
                receivers: []
                exporters: []
                services: []
            application/json:
              schema:
                $ref: "#/components/schemas/Otcl"
        default:
          $ref: "#/components/responses/UnexpectedError"

    delete:
      operationId: DeleteOtcl
      tags:
        - Otcls
      summary: Delete Otcl by ID
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
        - in: path
          name: id
          schema:
            type: string
          required: true
          description: The ID of the Otcl to get
      responses:
        204:
          description: Delete otcl success
        default:
          $ref: "#/components/responses/UnexpectedError"

  /notification_endpoints:
    get:
      operationId: ListNotificationEndpoint
      tags:
        - Notification Endpoints
      summary: List all notification
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
        - in: query
          name: orgID
          required: true
      responses:
        200:
          description: Notification Endpoint List
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/NotificationEndpoints"
        default:
          $ref: "#/components/responses/UnexpectedError"
    patch:
      operationId: Update Notification Endpoint with a change set
      tags:
        - Notification Endpoints
      summary: Update Notification
      requestBody:
        description: Patch to apply
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                desc:
                  type: string
      responses:
        204:
          description: Success
        default:
          $ref: '#/components/responses/UnexpectedError'

  /notification_endpoints/{id}:
    parameters:
      - $ref: "#/components/parameters/TraceSpan"
      - in: path
        name: id
        required: true
        schema:
          type: string

    get:
      operationId: GetNotificationEndpointByID
      summary: Get NotificationEndpoint
      tags:
        - Notification Endpoints
      responses:
        200:
          description: NotificationEndpoint Detail
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/NotificationEndpoint"
        default:
          $ref: "#/components/responses/UnexpectedError"

    delete:
      operationId: DeleteNotificationEndpoint
      summary: Delete notification endpoint by id
      tags:
        - Notification Endpoints
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        204:
          description: Delete success
        default:
          $ref: "#/components/responses/UnexpectedError"

  /orgs/{orgID}/secrets:
    get:
      operationId: ListSecrets
      summary: List all secrets of the org
      description: List all secrets of the org, the value will not be returned for security
      tags:
        - Secrets
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
        - name: orgID
          in: path
          required: true
      responses:
        200:
          description: Secrets
          content:
            applicatoin/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/SecretWithoutValue"
        default:
          $ref: "#/components/responses/UnexpectedError"

    put:
      operationId: PutSecret
      summary: Create or update a secret
      description: Create or update a secret
      tags:
        - Secrets
      parameters:
        - $ref: "#/components/responses/UnexpectedError"
        - name: orgID
          in: path
          required: true
          description: Organization ID
      requestBody:
        required: true
        description: Secrets to create or update
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/Secret"
      responses:
        201:
          description: Put secret success
        default:
          $ref: "#/components/responses/UnexpectedError"
  /orgs/{orgID}/secrets/{key}:
    delete:
      operationId: DeleteSecret
      summary: Delete secret
      description: Delete a secret by key
      tags:
        - Secrets
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
      responses:
        200:
          description: Delete secret success
        default:
          $ref: "#/components/responses/UnexpectedError"

  /variables:
    get:
      operationId: GetAllVariables
      summary: Get Variables
      tags:
        - Variables
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
        - in: query
          required: true
          name: orgID
          schema:
            type: string
      responses:
        200:
          description: success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Variable"
        default:
          $ref: "#/components/responses/UnexpectedError"
    post:
      operationId: CreateVariable
      summary: Crreate Variable
      tags:
        - Variables
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
      requestBody:
        description: Variable to create
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Variable"
      responses:
        201:
          description: Success
        default:
          $ref: "#/components/responses/UnexpectedError"

  /variables/{id}:
    parameters:
      - $ref: "#/components/parameters/TraceSpan"
      - in: path
        required: true
        name: id
        schema:
          type: string
        description: Variable ID

    get:
      operationId: GetVariable
      summary: Get Variable by ID
      tags:
        - Variables
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Variable"
        default:
          $ref: "#/components/responses/UnexpectedError"

    patch:
      operationId: PatchVariable
      summary: Update variable with change set
      tags:
        - Variables
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VariableUpdate"
      responses:
        204:
          description: Success
        default:
          $ref: "#/components/responses/UnexpectedError"

    post:
      operationId: UpdateVariable
      summary: Update Variable
      tags:
        - Variables
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Variable"
      responses:
        200:
          description: Success
        default:
          $ref: "#/components/responses/UnexpectedError"

    delete:
      operationId: DeleteVariable
      summary: Delete variable by ID
      tags:
        - Variables
      responses:
        200:
          description: Success
        default:
          $ref: "#/components/responses/UnexpectedError"

  /migrations:
    get:
      operationId: GetMigrations
      summary: List all migrations
      description: Migrations could be very helpful when debug
      tags:
        - Migrations
      parameters:
        - $ref: "#/components/parameters/TraceSpan"
      responses:
        200:
          description: Migration details
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Migration"

components:
  parameters:
    TraceSpan:
      in: header
      name: Zap-Trace-Span
      schema:
        type: string
      description: OpenTracing span context
      example:
        trace_id: "1"
        span_id: "1"
        baggage:
          key: value
      required: false

  schemas:
    Error:
      properties:
        code:
          description: Code is the machine-readable error code.
          readOnly: true
          type: string
          # This set of enumerations must remain in sync with the constants defined in errors.go
          enum:
            - internal error
            - not found
            - conflict
            - invalid
            - unprocessable entity
            - empty value
            - unavailable
            - forbidden
            - too many requests
            - unauthorized
            - method not allowed
        message:
          readOnly: true
          description: Message is a human-readable message.
          type: string
      required: [ code, message ]

    OnBoardingRequest:
      type: object
      properties:
        username:
          type: string
        password:
          type: string
        org:
          type: string

    Migration:
      type: object
      properties:
        id:
          readOnly: true
          type: string
        name:
          type: string
        state:
          type: string
          enum:
            - up
            - down
        start_at:
          type: string
          format: date-time
        finished_at:
          type: string
          format: date-time
    Organization:
      type: object
      properties:
        id:
          readOnly: true
          type: string
        created:
          type: string
          format: date-time
          readOnly: true
        modified:
          type: string
          format: date-time
          readOnly: true
        name:
          type: string
        desc:
          type: string
    Organizations:
      type: array
      items:
        $ref: "#/components/schemas/Organization"

    Otcl:
      type: object
      properties:
        id:
          readOnly: true
          type: string
        created:
          type: string
          format: date-time
          readOnly: true
        modified:
          type: string
          format: date-time
          readOnly: true
        name:
          type: string
        desc:
          type: string
        orgID:
          type: string
          readOnly: true
        type:
          type: string
        content:
          type: string
          description: Config content for the OpenTelemetry Collector
    OtclRequest:
      type: object
      properties:
        name:
          type: string
        desc:
          type: string
        orgID:
          type: string
          readOnly: true
        type:
          type: string
        content:
          type: string
          description: Config content for the OpenTelemetry Collector

    Otcls:
      type: array
      items:
        $ref: "#/components/schemas/Otcl"

    Threshold:
      type: object
      required:
        - type
      properties:
        type:
          type: string
          enum:
            - gt
            - lt
            - eq
            - inside
            - outside
        value:
          type: number
        min:
          type: number
        max:
          type: number

    Condition:
      type: object
      properties:
        status:
          type: string
        pending:
          type: string
        threshold:
          $ref: "#/components/schemas/Threshold"

    CheckUpdate:
      type: object
      properties:
        name:
          type: string
        desc:
          type: string
        status:
          type: string
          enum:
            - active
            - inactive

    Check:
      type: object
      properties:
        id:
          type: string
        created:
          type: string
          format: date-time
          readOnly: true
        updated:
          type: string
          format: date-time
          readOnly: true
        name:
          type: string
        desc:
          type: string
        status:
          type: string
          enum:
            - active
            - inactive
        orgID:
          type: string
        expr:
          type: string
        conditions:
          type: array
          items:
            $ref: "#/components/schemas/Condition"
    Checks:
      type: array
      items:
        $ref: "#/components/schemas/Check"

    Secret:
      type: object
      required:
        - key
        - value
      properties:
        key:
          type: string
        value:
          type: string

    SecretWithoutValue:
      type: object
      required: key
      properties:
        key:
          type: string

    NotificationEndpoint:
      type: object
      required: content_template
      properties:
        id:
          type: string
        created:
          type: string
          format: date-time
          readOnly: true
        updated:
          type: string
          format: date-time
          readOnly: true
        name:
          type: string
        desc:
          type: string
        status:
          type: string
          enum:
            - active
            - inactive
        url:
          type: string
        method:
          type: string
          enum:
            - POST
            - GET
            - PUT
        headers:
          type: object
        content_template:
          type: string
    NotificationEndpoints:
      type: array
      items:
        $ref: "#/components/schemas/NotificationEndpoint"
    Scrape:
      type: object
      properties:
        id:
          type: string
          readOnly: true
        orgID:
          type: string
          readOnly: true
        name:
          type: string
        desc:
          type: string
        labels:
          type: object
        targets:
          type: array
          items:
            type: string
    ScrapePatch:
      type: object
      properties:
        name:
          type: string
        desc:
          type: string
        labels:
          type: object
          additionalProperties:
            type: string
    Variable:
      type: object
      required:
        - name
      properties:
        id:
          type: string
          readOnly: true
        created:
          type: string
          format: date-time
          readOnly: true
        updated:
          type: string
          format: date-time
          readOnly: true
        orgID:
          type: string
          readOnly: true
        name:
          type: string
        desc:
          type: string
        type:
          type: string
          enum:
            - query
            - static
        value:
          type: string
    VariableUpdate:
      type: object
      properties:
        name:
          type: string
        desc:
          type: string
    Cell:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        desc:
          type: string
        x:
          type: integer
          description: Cell position
        y:
          type: integer
          description: Cell position
        w:
          type: integer
          description: Cell width
        h:
          type: integer
          description: Cell height
        minH:
          type: integer
          description: Min height of the cell
        minW:
          type: integer
          description: Mix width of the cell
        maxW:
          type: integer
          description: Max width of the cell
        viewProperties:
          oneOf:
            - $ref: "#/components/schemas/GaugeViewProperties"
            - $ref: '#/components/schemas/XYViewProperties'
            - $ref: '#/components/schemas/SingleStatViewProperties'
            - $ref: '#/components/schemas/LinePlusSingleStatViewProperties'
            - $ref: '#/components/schemas/MarkdownViewProperties'

    Axis:
      type: object
      properties:
        bounds:
          type: array
          items:
            type: string
        label:
          type: string
        prefix:
          type: string
        suffix:
          type: string
        base:
          type: string
          enum:
            - ''
            - '2'
            - '10'

    DashboardQuery:
      type: object
      properties:
        name:
          type: string
        text:
          type: string
        legend:
          type: string
        hidden:
          type: boolean

    Axes:
      type: object
      properties:
        x:
          $ref: '#/components/schemas/Axis'
        y:
          $ref: '#/components/schemas/Axis'

    GaugeViewProperties:
      type: object
      properties:
        type:
          type: string
          const: 'gauge'
        axes:
          $ref: '#/components/schemas/Axes'
        queries:
          type: array
          items:
            $ref: '#/components/schemas/DashboardQuery'
    XYViewProperties:
      type: object
      properties:
        type:
          type: string
          const: 'xy'
        axes:
          $ref: '#/components/schemas/Axes'
        queries:
          type: array
          items:
            $ref: '#/components/schemas/DashboardQuery'
        timeFormat:
          type: string
        xColumn:
          type: string
        yColumn:
          type: string
        hoverDimension:
          type: string
        postion:
          type: string
        geom:
          type: string

    DashboardColor:
      type: object
      properties:
        id:
          type: string
        type:
          type: string
        hex:
          type: string
        name:
          type: string
        value:
          type: integer

    SingleStatViewProperties:
      type: object
      properties:
        type:
          type: string
          const: 'single-stat'
        note:
          type: string
        query:
          $ref: '#/components/schemas/DashboardQuery'
        prefix:
          type: string
        suffix:
          type: string
        tickPrefix:
          type: string
        tickSuffix:
          type: string
        showNoteWhenEmpty:
          type: boolean
        colors:
          type: array
          items:
            $ref: '#/components/schemas/DashboardColor'

    DecimalPlaces:
      type: object
      properties:
        isEnforced:
          type: boolean
        digits:
          type: integer

    LinePlusSingleStatViewProperties:
      type: object
      properties:
        type:
          type: string
          const: 'line-plus-single-stat'
        note:
          type: string
        queries:
          type: array
          items:
            $ref: '#/components/schemas/DashboardQuery'
        prefix:
          type: string
        suffix:
          type: string
        tickPrefix:
          type: string
        tickSuffix:
          type: string
        showNoteWhenEmpty:
          type: boolean
        DecimalPlaces:
          $ref: '#/components/schemas/DecimalPlaces'

    MarkdownViewProperties:
      type: object
      properties:
        type:
          type: string
        content:
          type: string

    DashboardPatch:
      type: object
      properties:
        name:
          type: string
        desc:
          type: string

    Dashboard:
      type: object
      required: name
      properties:
        id:
          type: string
          readOnly: true
        created:
          type: string
          format: date-time
          readOnly: true
        updated:
          type: string
          format: date-time
          readOnly: true
        name:
          type: string
        desc:
          type: string
        orgID:
          type: string
        cells:
          type: array
          items:
            $ref: '#/components/schemas/Cell'

  responses:
    UnexpectedError:
      description: Unexpected error
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Error"